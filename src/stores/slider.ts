import { ref, computed } from 'vue'
import { defineStore } from 'pinia'
import type { Slide } from '../types/slider'

export const useSlideStore = defineStore('slideStore', () => {
  const slides = ref<Slide[]>([
    {
      id: 1,
      title: 'Фронтенд для проджект-менеджерів',
      subtitle: 'Як говорити з розробниками однією мовою та уникати типових помилок',
      type: 'title',
    },

    {
      id: 2,
      title: 'Навіщо PM-у розуміти фронтенд',
      bullets: [
        'Адекватне планування термінів: оцінка складності завдань стає точнішою',
        'Менше конфліктів у команді: спільна мова зменшує непорозуміння',
        'Якісніші технічні завдання: детальний опис сценаріїв та станів',
        'Розуміння ризиків ще до старту: виявлення потенційних проблем на етапі планування',
      ],
      note: 'Фронтенд — не чорна скринька, а ключова частина продукту, яка впливає на користувацький досвід',
      type: 'content',
    },

    {
      id: 3,
      title: 'Міфи про фронтенд',
      bullets: [
        '«Це ж просто верстка»: ігнорує логіку, стани та інтеграції',
        '«Там нічого складного»: недооцінка компонентної архітектури та оптимізації',
        '«Зробіть як на іншій сторінці»: не враховує контекст і залежності',
      ],
      result: 'Наслідок: зриви дедлайнів, технічний борг і демотивація команди',
      type: 'warning',
    },

    {
      id: 4,
      title: 'Що таке фронтенд насправді',
      bullets: [
        'Інтерфейс (HTML, CSS): структура та візуальний стиль',
        'Логіка взаємодії (JavaScript): обробка подій, валідація, динаміка',
        'Стан застосунку: управління даними в реальному часі (наприклад, через Vuex або Pinia)',
        'Інтеграція з бекендом (API): запити, обробка відповідей, помилки',
      ],
      note: 'Фронтенд — це не тільки "картинка", а й інтерактивна система',
      type: 'content',
    },

    {
      id: 5,
      title: 'Основні технології (без коду)',
      bullets: [
        'HTML — структура сторінки: семантика, доступність (ARIA)',
        'CSS — вигляд, адаптивність, анімації: Flexbox, Grid, медіа-запити',
        'JavaScript — логіка і поведінка: асинхронність, проміси, події',
        'React / Vue — компоненти та масштабування: реактивність, маршрутизація (Vue Router)',
      ],
      note: 'PM має знати концепції, а не синтаксис, щоб правильно оцінювати зусилля',
      type: 'content',
    },

    {
      id: 6,
      title: 'Компонентне мислення',
      bullets: [
        'Кнопка (Button)',
        'Інпут (Input)',
        'Модалка (Modal)',
        'Карточка (Card)',
        'Таблиця (Table)',
      ],
      note: 'Один компонент може використовуватись у багатьох місцях, забезпечуючи консистентність і повторне використання',
      examples: ['Приклад: Зміна стилю кнопки вплине на весь додаток'],
      type: 'content',
    },

    {
      id: 7,
      title: 'Чому компоненти важливі PM-у',
      bullets: [
        'Зміна компонента = зміни всюди: глобальний вплив на UI',
        'Один баг може ламати десятки екранів: ризик каскадних помилок',
        'Без системи — хаос у коді: відсутність Storybook або Design System',
      ],
      note: 'Design System = економія часу і грошей, зменшення дублювання роботи',
      type: 'content',
    },

    {
      id: 8,
      title: 'Кейс №1: «Просто змінити кнопку»',
      case: {
        situation: 'PM просить змінити текст кнопки на "Підтвердити" замість "OK"',
        reality: [
          'Кнопка використовується у 12 місцях',
          'Різна логіка (наприклад, submit vs cancel)',
          'Різні стани (active, disabled, loading)',
        ],
        conclusion: 'Немає «простої» правки без аналізу залежностей і тестування',
      },
      type: 'case',
    },

    {
      id: 9,
      title: 'Адаптивність — це не бонус',
      bullets: [
        'Мобільна версія ≠ десктоп: різні розміри екрану, touch vs mouse',
        'Різні сценарії користування: на ходу vs за столом',
        'Різна логіка взаємодії: swipe vs click, менші кнопки',
      ],
      note: 'Адаптивність потрібно планувати одразу, з урахуванням RWD (Responsive Web Design)',
      type: 'content',
    },

    {
      id: 10,
      title: 'Типові проблеми з дизайном',
      bullets: [
        'Макет лише для desktop: ігнорування мобільних користувачів',
        'Відсутні error / empty / hover стани: неповний опис поведінки',
        '«На мобілці якось саме»: призводить до імпровізацій і затримок',
      ],
      result: 'Фронтенд змушений імпровізувати, що збільшує час і ризики',
      type: 'warning',
    },

    {
      id: 11,
      title: 'Кейс №2: Адаптивність «потім»',
      case: {
        situation: 'Мобільну версію додали наприкінці спринту',
        consequences: [
          '+30–40% часу на рефакторинг',
          'Переробка логіки взаємодії',
          'Нові баги в існуючих фічерах',
        ],
        lesson: 'Інтегруйте адаптивність з самого початку, використовуйте mobile-first підхід',
      },
      type: 'case',
    },

    {
      id: 12,
      title: 'Фронтенд і бекенд',
      bullets: [
        'Фронтенд не зберігає дані: все йде через API',
        'Залежить від API: формати, ендпоінти, аутентифікація',
        'Чекає відповіді сервера: обробка лоадінгів і помилок',
      ],
      note: 'Без бекенду фронтенд може бути заблокований, тому синхронізуйте роадмапи',
      type: 'content',
    },

    {
      id: 13,
      title: 'Кейс №3: Зміна API',
      case: {
        situation: 'Бекенд змінив формат відповіді (наприклад, з JSON на інший схему)',
        consequences: [
          'Фронтенд перестав працювати: парсинг помилок',
          'Зсув термінів: терміновий рефакторинг',
        ],
        lesson: 'Комунікація критична — використовуйте API контракти (OpenAPI/Swagger)',
      },
      type: 'case',
    },

    {
      id: 14,
      title: 'Стани інтерфейсу',
      bullets: [
        'Loading: індикатори завантаження',
        'Success: успішне відображення даних',
        'Error: повідомлення про помилки',
        'Empty: порожній стан з підказками',
        'Disabled: неактивні елементи',
      ],
      note: 'Екран — це не один стан, а набір сценаріїв, які потрібно описати в ТЗ',
      type: 'content',
    },

    {
      id: 15,
      title: 'Кейс №4: Empty state',
      case: {
        situation: 'Даних немає (наприклад, пустий список замовлень)',
        problem: 'У ТЗ це не було описано: просто "відобразити список"',
        question: '«А чому тут порожньо?» — користувач розгублений',
        lesson: 'Завжди описуйте всі можливі стани в специфікації',
      },
      type: 'case',
    },

    {
      id: 16,
      title: 'Як PM має ставити задачі фронтенду',
      bullets: [
        'Чітка ціль: що користувач повинен досягти',
        'Сценарій користувача: user flow з діаграмами',
        'Дизайн: Figma/Sketch з усіма станами',
        'Логіка: if-then умови, валідація',
        'Помилки та edge cases: що робити при повільному інтернеті, offline',
      ],
      note: 'Використовуйте шаблони ТЗ для консистентності',
      type: 'content',
    },

    {
      id: 17,
      title: 'Роль PM у фронтенді',
      bullets: [
        'Перекладач між бізнесом і технікою: пояснюйте вимоги технічно',
        'Фасилітатор процесу: організовуйте grooming сесії',
        'Захисник команди від хаосу: пріоритизуйте зміни',
      ],
      note: 'Хороший PM — це не контролер, а партнер розробників',
      type: 'content',
    },

    {
      id: 18,
      title: 'Чеклист PM-а перед стартом',
      checklist: [
        'Є всі стани в дизайні (loading, error, empty)',
        'Є адаптивні макети для мобілки/таблету',
        'Описані сценарії користувача (user stories)',
        'API зафіксоване (ендпоінти, схеми)',
        'Враховані залежності від інших команд',
      ],
      type: 'checklist',
    },

    {
      id: 19,
      title: 'Чеклист перед змінами',
      checklist: [
        'Де використовується ця частина? (глобальний пошук)',
        'Це компонент? (вплив на Design System)',
        'Є залежності? (від бекенду, інших фіч)',
        'Як це вплине на мобілку? (тестування на пристроях)',
        'Потрібне тестування? (unit, e2e)',
      ],
      type: 'checklist',
    },

    {
      id: 20,
      title: 'Підсумок',
      bullets: [
        'Фронтенд — партнер у створенні продукту',
        'Розуміння = швидкість і якість',
        'Хороший PM економить час усій команді та зменшує ризики',
      ],
      note: 'Інвестуйте в знання — це окупається',
      type: 'summary',
    },
  ])

  const totalSlides = computed(() => slides.value.length)

  return {
    slides,
    totalSlides,
  }
})
